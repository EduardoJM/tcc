%
% Template construido sobre o thema 
%	"Radboud University Beamer"
% obtido em:
%	<https://pt.sharelatex.com/templates/presentations/radboud-university-beamer-(version-1)>
%

% Condicionais
\usepackage{ifthen}

%%%
%%% Inherit definitions from existing themes (DO NOT MODIFY THESE)
%%%
% Layout scheme for outer elements: split header and footer
\useoutertheme{split}
% Color scheme for outer elements: use background colors
\usecolortheme{whale}
% Layout scheme for inner elements: rounded elements
\useinnertheme{rounded} 
% Color scheme for inner elements: use foreground colors
\usecolortheme{orchid}

% Itemize items: default (triangle), circle, square, ball
\setbeamertemplate{itemize items}[circle]
% Enumerate items: default, circle, square, ball
\setbeamertemplate{enumerate items}[circle]
% Outline: default, sections numbered, subsections numbered, circle, square, ball, ball unnumbered
\setbeamertemplate{sections/subsections in toc}[default]
% General blocks: 
\setbeamertemplate{blocks}[rounded]
% Title page:
\setbeamertemplate{title page}[default][colsep=-4bp,rounded=true]
% Part page:
\setbeamertemplate{part page}[default][colsep=-4bp,rounded=true]
% Navigation symbols:
\setbeamertemplate{navigation symbols}{}

% Cores
% Cor azul (tema UEG) 
% Red=32, Green=47, Blue=96
\usecolortheme[RGB={32, 47, 96}]{structure}
\definecolor{UegBlue}{RGB}{32, 47, 96}

\setbeamercolor{frametitle}{bg=white, fg=UegBlue, parent=subsection in head/foot}
\setbeamercolor{frametitle right}{parent=section in head/foot}
\setbeamercolor{palette quaternary}{bg=UegBlue}


%
% Utilize \encapsulateBlueFrames{
%	\begin{frame}
%     ...
%	\end{frame}
%	\begin{frame}
%	  ...
%	\end{frame}
% }
%
% Os frames definidos dentro das chaves do 
% \encapsulateBlueFrames terão o fundo azul
%
\newcommand{\encapsulateBlueFrames}[1]{
	{
		\usebackgroundtemplate{\includegraphics[width=\paperwidth]{graphics/ueg_background_title}}
		#1
	}
}

%
% Utilize \encapsulateBackgroundLessFrames{
%	\begin{frame}
%     ...
%	\end{frame}
%	\begin{frame}
%	  ...
%	\end{frame}
% }
%
% Os frames definidos dentro das chaves do 
% \encapsulateBackgroundLessFrames não terão
% imagem de fundo.
%
\newcommand{\encapsulateBackgroundLessFrames}[1]{
	{
		\usebackgroundtemplate{}
		#1
	}
}

%
% Utilize \makesubtitleframe{Subtítulo}
% para criar um frame de subtítulo, com o fundo azul.
% 
\newcommand{\makesubtitleframe}[1]{
	\encapsulateBlueFrames{
		\begin{frame}
			\vfill
			\begin{center}
				{\Huge\usebeamercolor[white]{}#1}
			\end{center}
			\vfill
		\end{frame}
	}
}

\defbeamertemplate*{title page}{ccetmat theme}[1][]
{
	%
	% Página de título customizada
	%
	\begin{center}
		\includegraphics[scale=0.35]{graphics/ueg_ccet}\par
		\usebeamercolor[white]{}
		\usebeamerfont{author}\insertinstitute\par
		\vfill
		\usebeamerfont{title}\inserttitle\par
		\usebeamerfont{subtitle}
		\insertsubtitle\par
		\vfill
		\usebeamerfont{author}\insertauthor\par
		\vfill
		\usebeamerfont{date}\insertdate\par
	\end{center}
}

\defbeamertemplate*{background canvas}{ccetmat theme}
{
	%
	% Imagem de fundo
	% Se o número do frame = 1, exibir imagem azul para 
	% frame de título, caso contrário, exibir a imagem
	% branca para os demais frames.
	%
	\ifnumequal{\c@framenumber}{1}
	{
		\includegraphics[width=\paperwidth,height=\paperheight]{graphics/ueg_background_title}
	}
	{
		\includegraphics[width=\paperwidth]{graphics/ueg_background}
	}
}

% Rodapé: AUTOR | ANO | TÍTULO | NÚMERO DE FRAME
\defbeamertemplate*{footline}{ccetmat theme}
{
	\leavevmode%
	\hbox
	{%
		%
		% Caso seja necessário alterar a ordem de 
		% exibição, basta apenas trocar a ordem dos
		% ambientes:
		% \begin{beamercolorbox}...\end{beamercolorbox}
		%
		
		% Bloco de Autor (shortauthor)
		\begin{beamercolorbox}[wd=.25\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
			\usebeamerfont{author in head/foot}\insertshortauthor
		\end{beamercolorbox}%
		% Bloco de Data (shortdate)
		\begin{beamercolorbox}[wd=.25\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
			\usebeamerfont{author in head/foot}\insertshortdate
		\end{beamercolorbox}%
		% Bloco do título (shorttitle)
		\begin{beamercolorbox}[wd=.416667\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
			\usebeamerfont{title in head/foot}\insertshorttitle
		\end{beamercolorbox}%
		% Bloco de número de frame
		\begin{beamercolorbox}[wd=0.083333\paperwidth,ht=2.25ex,dp=1ex,right]{title in head/foot}%
			\insertframenumber{} / \inserttotalframenumber\hspace*{2ex} 
		\end{beamercolorbox}]
	}%
	\vskip0pt%
}

% Cabeçalho
\defbeamertemplate*{headline}{ccetmat theme}
{%
	\leavevmode%
	\@tempdimb=2.4375ex%
	\multiply\@tempdimb by\beamer@sectionmax%
	% declarar o uso da imagem de logo do campus cet.
	\pgfdeclareimage[height=.9\@tempdimb]{logo}{graphics/ueg_ccet}%
	\ifdim\@tempdimb>0pt%
    	\advance\@tempdimb by 1.125ex%
    	\begin{beamercolorbox}[wd=.5\paperwidth,ht=\@tempdimb]{section in head/foot}%
    		% Barra de navegação
      		\vbox to\@tempdimb
      		{
      			\vfil
      			% Inserir a barra de navegação
      			\insertsectionnavigation{.5\paperwidth}
      			\vfil
      		}%
    	\end{beamercolorbox}%
    	\begin{beamercolorbox}[wd=.5\paperwidth,ht=\@tempdimb,right]{subsection in head/foot}%
    		% Logo da UEG - Campus CET
      		\vbox to \@tempdimb
      		{
      			\vfil\vfil
      			% Centralizar no bloco
      			\centering
      			% Inserir a imagem
      			\pgfuseimage{logo}
      			\vfil
      		}
		\end{beamercolorbox}
	\fi%
}

% Frametitle - Título dos frames
\defbeamertemplate*{frametitle}{ccetmat theme}
{%
	\nointerlineskip%
	\hbox
	{
		\leavevmode
    	\advance\beamer@leftmargin by -12bp%
	    \advance\beamer@rightmargin by -12bp%
    	\beamer@tempdim=\textwidth%
	    \advance\beamer@tempdim by \beamer@leftmargin%
    	\advance\beamer@tempdim by \beamer@rightmargin%
	    \hskip-\Gm@lmargin\hbox
	    {%
      		\setbox\beamer@tempbox=\hbox
      		{
      			\begin{minipage}[b]{\paperwidth}%
          			\vbox{}\vskip.75ex%
          			\leftskip0.3cm%
          			\rightskip0.3cm plus1fil\leavevmode
          			\insertframetitle%
          			\ifx\insertframesubtitle\@empty%
           				\strut\par%
          			\else
            			\par{\usebeamerfont*{framesubtitle}{\usebeamercolor[fg]{framesubtitle}\insertframesubtitle}\strut\par}%
          			\fi%
          			\nointerlineskip
          			\vbox{}%
          		\end{minipage}
          	}%
      		\beamer@tempdim=\ht\beamer@tempbox%
      		\advance\beamer@tempdim by 2pt%
      		\begin{pgfpicture}{0.1mm}{0pt}{1.01\paperwidth}{\beamer@tempdim}
		    \end{pgfpicture}
      		\hskip-\paperwidth%
      		\box\beamer@tempbox%
    	}%
    	\hskip-\Gm@rmargin%
  	}%
}
